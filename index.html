<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–û—Ç–≤–µ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ üòà</title>
  <style>
    :root{
      --bg1:#0f0c29; --bg2:#302b63; --bg3:#24243e;
      --card:#ffffff10; --text:#fff;
    }
    body{
      margin:0; height:100vh; display:grid; place-items:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 20% 10%, #ff4d8d33, transparent 60%),
                  linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
      color:var(--text);
      overflow:hidden;
    }
    .card{
      width:min(560px, 92vw);
      padding:24px 22px;
      border-radius:20px;
      background:var(--card);
      backdrop-filter: blur(10px);
      border:1px solid #ffffff22;
      box-shadow: 0 20px 80px #00000055;
      position:relative;
    }
    h1{ margin:0 0 8px; font-size:clamp(22px,4vw,32px); }
    p{ margin:0 0 18px; opacity:.85; }
    .arena{
      position:relative;
      width:100%;
      height:240px;
      border-radius:16px;
      background:#00000022;
      border:1px dashed #ffffff33;
      overflow:hidden;
    }
    button{
      border:none; border-radius:14px;
      padding:12px 18px; font-size:18px;
      cursor:pointer;
      position:absolute;
      user-select:none;
      touch-action:none;
      transform: translateZ(0);
      transition: transform .08s ease;
      box-shadow: 0 10px 30px #00000055;
    }
    #yesBtn{
      left:20px; top:140px;
      background: linear-gradient(135deg,#35ff9a,#16c7ff);
      color:#041019;
      font-weight:700;
    }
    #noBtn{
      left:220px; top:140px;
      background: linear-gradient(135deg,#ff3b3b,#ff8a3b);
      color:#1a0606;
      font-weight:800;
    }
    .shake{ animation: shake .18s linear 1; }
    @keyframes shake{
      0%{transform:translateX(0)}
      25%{transform:translateX(-4px)}
      50%{transform:translateX(4px)}
      75%{transform:translateX(-3px)}
      100%{transform:translateX(0)}
    }
    .toast{
      margin-top:14px;
      font-size:14px;
      opacity:.85;
      display:flex; gap:10px; flex-wrap:wrap;
    }
    .pill{
      padding:6px 10px; border-radius:999px;
      background:#ffffff14; border:1px solid #ffffff22;
    }
    .tiny{
      font-size:12px; opacity:.7; margin-top:10px;
    }
  </style>
</head>
<body>
  <div class="card">
    <!-- üîß –ú–ï–ù–Ø–ô –¢–ï–ö–°–¢–´ –ó–î–ï–°–¨ -->
    <h1 id="question">–¢—ã —Å–æ–≥–ª–∞—Å–µ–Ω/—Å–æ–≥–ª–∞—Å–Ω–∞? üòá</h1>
    <p id="subtitle">–í—ã–±–∏—Ä–∞–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ. ¬´–ù–µ—Ç¬ª ‚Äî –Ω–µ –≤–∞—Ä–∏–∞–Ω—Ç.</p>

    <div class="arena" id="arena">
      <!-- üîß –ú–ï–ù–Ø–ô –°–°–´–õ–ö–£ –î–õ–Ø "–î–ê" -->
      <button id="yesBtn">–î–∞ ‚úÖ</button>
      <button id="noBtn">–ù–µ—Ç</button>
    </div>

    <div class="toast">
      <span class="pill">–ü–æ–ø—ã—Ç–∫–∏ ¬´–Ω–µ—Ç¬ª: <b id="tries">0</b></span>
      <span class="pill">–£—Ä–æ–≤–µ–Ω—å –∑–ª–∞: <b id="evil">MAX</b></span>
    </div>

    <div class="tiny">–ü–æ–¥—Å–∫–∞–∑–∫–∞: ¬´–ù–µ—Ç¬ª —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –¥–∞–∂–µ –¥–æ –Ω–∞–≤–µ–¥–µ–Ω–∏—è üòà</div>
  </div>

  <script>
    // =========================
    // üîß –ù–ê–°–¢–†–û–ô–ö–ò (–º–µ–Ω—è–π —Ç—É—Ç)
    // =========================
    const CONFIG = {
      yesLink: "https://example.com",     // –∫—É–¥–∞ –≤–µ–¥–µ—Ç "–î–∞"
      yesText: "–î–∞ ‚úÖ",
      question: "–ü–æ–π–¥—ë—à—å —Å–æ –º–Ω–æ–π –≥—É–ª—è—Ç—å —Å–µ–≥–æ–¥–Ω—è? üíñ",
      subtitle: "–£ —Ç–µ–±—è –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞: ¬´–î–∞¬ª –∏ ¬´–î–∞¬ª.",
      noTexts: [
        "–ù–µ—Ç", "–ù–µ–∞", "–¢–æ—á–Ω–æ –Ω–µ—Ç?", "–ü–æ–¥—É–º–∞–π –µ—â—ë", "–°–¥–∞–≤–∞–π—Å—è üòè",
        "–¢—ã –ø—Ä–æ–º–∞—Ö–Ω—É–ª—Å—è", "–ù–ï–¢ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è", "–•–∞-—Ö–∞, –Ω–µ—Ç"
      ],
      // –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ä–∞–Ω–æ "–Ω–µ—Ç" –Ω–∞—á–∏–Ω–∞–µ—Ç —É–±–µ–≥–∞—Ç—å (–≤ –ø–∏–∫—Å–µ–ª—è—Ö)
      dangerRadius: 90,
      // —Ç–µ–ª–µ–ø–æ—Ä—Ç –∏–Ω–æ–≥–¥–∞ (–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å 0..1)
      teleportChance: 0.18,
      // —É–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–Ω–µ—Ç" –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–∞—Ö
      shrinkPerTry: 0.06,
      minScale: 0.55,
      // —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–∏: —á–µ–º –±–æ–ª—å—à–µ, —Ç–µ–º "–∑–ª–µ–µ"
      sensitivity: 1.2
    };

    // –ø—Ä–∏–º–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç—ã
    const q = document.getElementById("question");
    const s = document.getElementById("subtitle");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const arena = document.getElementById("arena");
    const triesEl = document.getElementById("tries");

    q.textContent = CONFIG.question;
    s.textContent = CONFIG.subtitle;
    yesBtn.textContent = CONFIG.yesText;

    yesBtn.addEventListener("click", () => window.location.href = CONFIG.yesLink);

    let tries = 0;

    // —Å—Ç–∞–≤–∏–º –∫–Ω–æ–ø–∫—É "–Ω–µ—Ç" –≤ —Å–ª—É—á–∞–π–Ω–æ–µ –º–µ—Å—Ç–æ (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö arena)
    function placeNoRandom() {
      const a = arena.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();
      const pad = 8;

      const maxX = a.width - b.width - pad*2;
      const maxY = a.height - b.height - pad*2;

      const x = pad + Math.random() * Math.max(0, maxX);
      const y = pad + Math.random() * Math.max(0, maxY);

      noBtn.style.left = `${x}px`;
      noBtn.style.top  = `${y}px`;
    }

    // –ø–æ–¥—Å—á—ë—Ç, —Å–º–µ–Ω–∞ —Ç–µ–∫—Å—Ç–∞, –º–∏–Ω–∏-—à–µ–π–∫, —É–º–µ–Ω—å—à–µ–Ω–∏–µ
    function punishNo() {
      tries++;
      triesEl.textContent = String(tries);

      noBtn.classList.remove("shake");
      void noBtn.offsetWidth; // –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏
      noBtn.classList.add("shake");

      // –º–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç
      const t = CONFIG.noTexts[tries % CONFIG.noTexts.length];
      noBtn.textContent = t;

      // —É–º–µ–Ω—å—à–∞–µ–º
      const scale = Math.max(CONFIG.minScale, 1 - tries * CONFIG.shrinkPerTry);
      noBtn.style.transform = `scale(${scale})`;
    }

    // "–Ω–µ—Ç" —É–±–µ–≥–∞–µ—Ç –µ—â—ë –î–û –Ω–∞–≤–µ–¥–µ–Ω–∏—è: —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –±–ª–∏–∑–æ—Å—Ç—å –∫—É—Ä—Å–æ—Ä–∞/–ø–∞–ª—å—Ü–∞
    function handleMove(clientX, clientY) {
      const a = arena.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();

      // —Ü–µ–Ω—Ç—Ä –∫–Ω–æ–ø–∫–∏
      const cx = b.left + b.width / 2;
      const cy = b.top  + b.height / 2;

      const dx = (clientX - cx);
      const dy = (clientY - cy);

      const dist = Math.hypot(dx, dy);

      const radius = CONFIG.dangerRadius / CONFIG.sensitivity;

      if (dist < radius) {
        punishNo();

        // –∏–Ω–æ–≥–¥–∞ —Ç–µ–ª–µ–ø–æ—Ä—Ç
        if (Math.random() < CONFIG.teleportChance) {
          placeNoRandom();
          return;
        }

        // –∏–Ω–∞—á–µ ‚Äî –æ—Ç—Ç–∞–ª–∫–∏–≤–∞–µ–º—Å—è –æ—Ç –∫—É—Ä—Å–æ—Ä–∞ (—É–º–Ω–æ–µ —É–±–µ–≥–∞–Ω–∏–µ)
        const push = (radius - dist) * (1.1 * CONFIG.sensitivity);

        // –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
        const len = Math.max(1, dist);
        const nx = dx / len;
        const ny = dy / len;

        // —Ç–µ–∫—É—â–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã noBtn –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ arena
        const left = parseFloat(getComputedStyle(noBtn).left) || 0;
        const top  = parseFloat(getComputedStyle(noBtn).top)  || 0;

        let newLeft = left - nx * push;
        let newTop  = top  - ny * push;

        // –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ arena
        const pad = 8;
        const maxLeft = a.width - b.width - pad;
        const maxTop  = a.height - b.height - pad;

        newLeft = Math.min(maxLeft, Math.max(pad, newLeft));
        newTop  = Math.min(maxTop,  Math.max(pad, newTop));

        noBtn.style.left = `${newLeft}px`;
        noBtn.style.top  = `${newTop}px`;
      }
    }

    // –º—ã—à—å
    arena.addEventListener("mousemove", (e) => handleMove(e.clientX, e.clientY));

    // –º–æ–±–∏–ª–∫–∞: –ø–∞–ª–µ—Ü
    arena.addEventListener("touchmove", (e) => {
      const t = e.touches[0];
      if (!t) return;
      handleMove(t.clientX, t.clientY);
    }, { passive: true });

    // –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞: –µ—Å–ª–∏ –≤—Å—ë-—Ç–∞–∫–∏ –Ω–∞–≤–µ–ª–∏ ‚Äî –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø—Ä—ã–∂–æ–∫
    noBtn.addEventListener("mouseenter", () => { punishNo(); placeNoRandom(); });
    noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); punishNo(); placeNoRandom(); }, { passive: false });

    // —Å—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–æ–∑–∏—Ü–∏—è
    placeNoRandom();
  </script>
</body>
</html>
